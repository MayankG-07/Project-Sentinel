# Project Sentinel ðŸ›¡ï¸

> Intelligence Without the Internet.

Project Sentinel is a 100% offline, air-gapped RAG (Retrieval-Augmented Generation) system designed for enterprises and individuals who cannot use public AI services due to data leakage risks. It allows users to ask questions in natural language and get answers from their private documents and databases, with a guarantee that no data ever leaves their controlled environment.

## Tech Stack

- **Frontend:** React, Vite
- **Backend:** FastAPI, Python
- **AI Orchestration:** LangChain
- **LLM:** Ollama (running Llama 3 or other models locally)
- **Databases:** ChromaDB (Vector), SQLite / any SQLAlchemy-compatible DB
- **Deployment:** Docker, Docker Compose

## Key Features in Detail

### Core Functionality
- **Dual-Engine RAG:** Seamlessly retrieves information from both **unstructured data** (PDF documents) and **structured data** (a local or cloud SQL database).
- **100% Air-Gapped & Private:** All components run entirely on your local machine or on-premise server. Zero data leakage is guaranteed.
- **Hybrid Database Capability:** The application is hybrid-ready. It can connect to either a local SQLite database file (for on-premise deployments) or a full database connection string (for cloud databases like Google Cloud SQL or AWS RDS).

### Enterprise-Grade Security
- **Role-Based Access Control (RBAC):** A full security layer provides API key authentication and enforces user roles (`admin`, `finance`, `legal`) to restrict access to specific data sources.
- **PII Redaction:** Automatically scrubs sensitive data like names and phone numbers using Microsoft Presidio *before* they are processed by the AI.
- **Enhanced SQL Safety Loop:** Uses `sqlparse` to structurally analyze any SQL query generated by the LLM. It strictly blocks any destructive commands (`DELETE`, `DROP`, `UPDATE`) and ensures read-only database access.
- **Forensic Audit Logging:** Every query is recorded in a structured `audit.log` file, capturing the user, their roles, the query, and the data source accessed for compliance and security reviews.

### User Experience & Performance
- **Personalized Authentication Flow:** A two-step authentication process where the user connects with an API key and receives a personalized welcome message before the chat interface becomes active.
- **Source Verification:** The UI builds user trust by displaying the exact source documents or database results used to generate an answer.
- **UI Refinements:** Includes user-friendly features like a "Copy to Clipboard" button for AI responses.
- **Optimized Ingestion:** The data ingestion process is parallelized to significantly speed up the vectorization of documents, making it efficient for large datasets.

## Getting Started

### Prerequisites
1.  **Git:** To clone the repository.
2.  **Docker & Docker Compose:** To build and run the application.
3.  **Ollama:** Must be installed and running on your host machine. Pull the required model:
    ```sh
    ollama pull llama3
    ```

### Installation & Launch

1.  **Clone the Repository:**
    ```sh
    git clone https://github.com/MayankG-07/Project-Sentinel.git
    cd Project-Sentinel
    ```

2.  **Configure Environment:**
    Copy the example environment file. The defaults are optimized for local Docker deployment.
    ```sh
    cp .env.example .env
    ```

3.  **Ingest Your Data (One-Time Setup):**
    Place your PDF files into the `Data/` directory. Then, run the ingestion script.
    ```sh
    docker-compose run --rm backend python ingest.py
    ```

4.  **Launch the Application:**
    This command builds the Docker images and starts all services.
    ```sh
    docker-compose up --build
    ```

5.  **Access Project Sentinel:**
    Open your web browser and navigate to:
    [http://localhost:8080](http://localhost:8080)

## Usage

1.  **Connect:** Upon loading the UI, you will be prompted for an API key. Use one of the pre-configured keys from the table below and press "Connect".
2.  **Welcome:** You will receive a personalized welcome message confirming your identity.
3.  **Query:** The chat input will become active, and you can now ask questions.

### Default API Keys

These are configured in `auth.py`.

| Username | API Key       | Permissions                               |
|:---------|:--------------|:------------------------------------------|
| `admin`  | `admin_key`   | Access to both SQL and PDF data sources.  |
| `alice`  | `finance_key` | Access to the SQL database only.          |
| `bob`    | `legal_key`   | Access to PDF documents only.             |
